<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
</h:head>

<ui:composition template="index_new.xhtml">

	<ui:define name="content">

		<style type="text/css">
.texto {
	color: red;
	font-weight: bold;
}

.list-group {
	list-style: decimal inside;
}

.list-group-item {
	display: list-item;
}

.versiculo {
	display: inline;
}
</style>

		<h:form prependId="false">
		
			<p:remoteCommand name="salvarExpressao" action="#{showVersiculoMB.initExpressao}" 
				oncomplete="$('#modal_expressao').modal();" async="true" update="panel_modal_expressao" />

			<h:panelGroup id="panel_modal_expressao">
				<b:modal title="Expressão: '#{showVersiculoMB.expressaoBackingBean.entity.texto}
					: #{showVersiculoMB.expressaoBackingBean.entity.inicio} - #{showVersiculoMB.expressaoBackingBean.entity.fim}
					'" closable="true" id="modal_expressao" >
					
					<b:container fluid="true">
						<b:row>
							<b:column span="2">
								<h:outputText value="Código: " />
							</b:column>
							<b:column span="4">
								<b:inputText value="#{showVersiculoMB.expressaoBackingBean.entity.codigo}" />
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2">
								<h:outputText value="Descrição: " />
							</b:column>
							<b:column span="10">
								<b:inputTextarea value="#{showVersiculoMB.expressaoBackingBean.entity.descricao}" />
							</b:column>
						</b:row>
						<b:row>
							<b:column span="2" offset="2">
								<b:commandButton value="Salvar" look="primary" />
							</b:column>
							<b:column span="2">
								<b:button value="Cancelar" dismiss="modal" look="danger" />
							</b:column>
						</b:row>
					</b:container>
	
				</b:modal>
			</h:panelGroup>



			<b:container fluid="true" style="font-size: 1.4em;">

				<b:panel titleStyle="text-align: center" collapsed="false"
					collapsible="false">
					<f:facet name="heading">
						<b>#{showVersiculoMB.capitulo.livro.nome} - Capítulo
							#{showVersiculoMB.capitulo.key.id}</b>
					</f:facet>
					<ul class="list-group">
						<ui:repeat var="v" value="#{showVersiculoMB.versos}"
							varStatus="status">

							<li class="list-group-item" id="versiculo_${status.index}">
								<div class="versiculo" json="#{v.key.toJson()}">
									<h:outputText value="${v.limpo}" escape="true" />
								</div>
							</li>
						</ui:repeat>
					</ul>
				</b:panel>
			</b:container>

		</h:form>

		<h:outputScript library="default" name="js/selection.js" />
		<h:outputScript library="default" name="js/selectionVersiculo.js" />
	</ui:define>
</ui:composition>

</html>
