<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
</h:head>

<ui:composition template="index_new.xhtml">

	<ui:define name="content">

		<style type="text/css">
			
			.texto {
 				color: red;
 				font-weight: bold;
			}
			
			.list-group {
				list-style: decimal inside;
			}
			
			.list-group-item {
				display: list-item;
			}
			
			.versiculo {
				display: inline;
			}
			
		</style>
		
		<h:form prependId="false">


			<b:container fluid="true" style="font-size: 1.4em;">

				<b:panel titleStyle="text-align: center" collapsed="false"
					collapsible="false">
					<f:facet name="heading">
						<b>#{showVersiculoMB.capitulo.livro.nome} - Cap√≠tulo
							#{showVersiculoMB.capitulo.key.id}</b>
					</f:facet>
					<ul class="list-group">
						<ui:repeat var="v" value="#{showVersiculoMB.versos}" varStatus="status">

							<li class="list-group-item" id="versiculo_${status.index}">
<!-- 								<p:inputTextarea value="${v.limpo}" styleClass="versiculo" readonly="true" -->
<!-- 									rows="0" /> -->
								<div class="versiculo">
									<h:outputText value="${v.limpo}" escape="true" />
								</div>
							</li>
						</ui:repeat>
					</ul>
				</b:panel>
			</b:container>

		</h:form>
		
		<h:outputScript library="default" name="js/selection.js" />
		<h:outputScript library="default" name="js/selectionVersiculo.js" />
		
		<script type="text/javascript">

			$(document).ready(function() {

// 				bindClick();

				$(".versiculo").off("mouseup").on("mouseup", function() {

					var start = this.selectionStart, end = this.selectionEnd;

					console.log($(this).val().substr(start, end - start));

				});
				
// 				var ajustarTextArea = function() {
// 					$(".versiculo").each(function() {
// 						$(this).css("height", "1px");
// 						$(this).css("height", (this.scrollHeight) + "px")
// 					});
// 				};
				
// 				ajustarTextArea();
				
// 				$(window).resize(function(){
// 					ajustarTextArea();
// 				});
				
			});

			function bindClick() {
				$(".texto").click(function() {
					definicao([ {
						name : 'dic',
						value : $(this).attr("dic")
					}, {
						name : 'idioma',
						value : $(this).parents("li").attr("idioma")
					} ]);
				});
			}
		</script>
	</ui:define>
</ui:composition>

</html>
